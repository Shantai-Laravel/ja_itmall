<template>

    <div class="cartBloc step2 row">
        <div class="col-12 text-center text-danger" v-if="serverError">
            <p class="text-center">A avut loc o problema tehnica.</p>
            <p class="text-center">Va sugeram sa reincarcati pagina</p>
            <a href="#" @click="refreshPage">Reincarca</a>
        </div>

        <div class="bagFromFirefox" v-if="ready">
            <div class="paymentMethods">
                <div class="title">
                    <div>{{ trans.vars.Payment.paymentMethod }}</div>
                </div>
                <div class="tabBox">
                    <div class="tabHeader">
                        <!-- {{ payments }} -->
                        <!-- <label class="tabOption" id="cartCredit" v-for="payment in payments.data">
                            <input type="radio" name="paymentMethods" :value="payment.identifier" v-model="choosePayment"/>
                            <span class="content">{{ payment.title }}
                                <img :src="payment.logo" alt="">
                                <span class="imgBloc"></span>
                            </span>
                        </label> -->

                        <!-- Cards -->
                        <!-- <label class="tabOption" id="cartCredit5">
                            <span class="content">PayPal

                                <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                                    <input type="hidden" name="cmd" value="_s-xclick">
                                    <input type="hidden" name="hosted_button_id" value="FSM2F92N3QLN2">
                                    <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_buynow_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                                    <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
                                </form>

                                <svg viewBox="0 0 355 293" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                                      <title>Paypal</title>
                                      <desc>Created with Sketch.</desc>
                                      <g id="Paypal" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                          <g id="paypal-(1)" fill-rule="nonzero">
                                              <path d="M238.6,197.2 L211.4,197.2 C209.8,197.2 208.2,198.8 207.4,200.4 L196.2,270.8 C196.2,272.4 197,273.2 198.6,273.2 L213,273.2 C214.6,273.2 215.4,272.4 215.4,270.8 L218.6,250.8 C218.6,249.2 220.2,247.6 222.6,247.6 L231.4,247.6 C249.8,247.6 260.2,238.8 262.6,221.2 C264.2,214 262.6,207.6 259.4,203.6 C254.6,199.6 247.4,197.2 238.6,197.2 M241.8,223.6 C240.2,233.2 233,233.2 225.8,233.2 L221,233.2 L224.2,214.8 C224.2,214 225,213.2 226.6,213.2 L228.2,213.2 C233,213.2 237.8,213.2 240.2,216.4 C241.8,217.2 241.8,219.6 241.8,223.6" id="Shape" fill="#139AD6"></path>
                                              <g id="Group" transform="translate(0.000000, 197.000000)" fill="#263B80">
                                                  <path d="M42.6,0.2 L15.4,0.2 C13.8,0.2 12.2,1.8 11.4,3.4 L0.2,73.8 C0.2,75.4 1,76.2 2.6,76.2 L15.4,76.2 C17,76.2 18.6,74.6 19.4,73 L22.6,53.8 C22.6,52.2 24.2,50.6 26.6,50.6 L35.4,50.6 C53.8,50.6 64.2,41.8 66.6,24.2 C68.2,17 66.6,10.6 63.4,6.6 C58.6,2.6 52.2,0.2 42.6,0.2 M45.8,26.6 C44.2,36.2 37,36.2 29.8,36.2 L25.8,36.2 L29,17.8 C29,17 29.8,16.2 31.4,16.2 L33,16.2 C37.8,16.2 42.6,16.2 45,19.4 C45.8,20.2 46.6,22.6 45.8,26.6" id="Shape"></path>
                                                  <path d="M125,25.8 L112.2,25.8 C111.4,25.8 109.8,26.6 109.8,27.4 L109,31.4 L108.2,29.8 C105,25.8 99.4,24.2 93,24.2 C78.6,24.2 65.8,35.4 63.4,50.6 C61.8,58.6 64.2,65.8 68.2,70.6 C72.2,75.4 77.8,77 85,77 C97,77 103.4,69.8 103.4,69.8 L102.6,73.8 C102.6,75.4 103.4,76.2 105,76.2 L117,76.2 C118.6,76.2 120.2,74.6 121,73 L128.2,28.2 C127.4,27.4 125.8,25.8 125,25.8 M106.6,51.4 C105,58.6 99.4,64.2 91.4,64.2 C87.4,64.2 84.2,62.6 82.6,61 C81,58.6 80.2,55.4 80.2,51.4 C81,44.2 87.4,38.6 94.6,38.6 C98.6,38.6 101,40.2 103.4,41.8 C105.8,44.2 106.6,48.2 106.6,51.4" id="Shape"></path>
                                              </g>
                                              <path d="M320.2,222.8 L307.4,222.8 C306.6,222.8 305,223.6 305,224.4 L304.2,228.4 L303.4,226.8 C300.2,222.8 294.6,221.2 288.2,221.2 C273.8,221.2 261,232.4 258.6,247.6 C257,255.6 259.4,262.8 263.4,267.6 C267.4,272.4 273,274 280.2,274 C292.2,274 298.6,266.8 298.6,266.8 L297.8,270.8 C297.8,272.4 298.6,273.2 300.2,273.2 L312.2,273.2 C313.8,273.2 315.4,271.6 316.2,270 L323.4,225.2 C322.6,224.4 321.8,222.8 320.2,222.8 M301.8,248.4 C300.2,255.6 294.6,261.2 286.6,261.2 C282.6,261.2 279.4,259.6 277.8,258 C276.2,255.6 275.4,252.4 275.4,248.4 C276.2,241.2 282.6,235.6 289.8,235.6 C293.8,235.6 296.2,237.2 298.6,238.8 C301.8,241.2 302.6,245.2 301.8,248.4" id="Shape" fill="#139AD6"></path>
                                              <path d="M194.6,222.8 L181,222.8 C179.4,222.8 178.6,223.6 177.8,224.4 L160.2,251.6 L152.2,226 C151.4,224.4 150.6,223.6 148.2,223.6 L135.4,223.6 C133.8,223.6 133,225.2 133,226.8 L147.4,269.2 L133.8,288.4 C133,290 133.8,292.4 135.4,292.4 L148.2,292.4 C149.8,292.4 150.6,291.6 151.4,290.8 L195.4,227.6 C197.8,225.2 196.2,222.8 194.6,222.8" id="Path" fill="#263B80"></path>
                                              <path d="M335.4,199.6 L324.2,271.6 C324.2,273.2 325,274 326.6,274 L337.8,274 C339.4,274 341,272.4 341.8,270.8 L353,200.4 C353,198.8 352.2,198 350.6,198 L337.8,198 C337,197.2 336.2,198 335.4,199.6" id="Path" fill="#139AD6"></path>
                                              <path d="M245.409846,14.8732394 C236.776386,4.95774648 220.742818,0 198.542492,0 L136.874922,0 C133.174867,0 129.474813,3.71830986 128.241462,7.43661972 L103.574433,169.802817 C103.574433,173.521127 106.041136,176 108.507839,176 L146.741733,176 L156.608544,115.267606 L156.608544,117.746479 C157.841896,114.028169 161.54195,110.309859 165.242004,110.309859 L183.742275,110.309859 C219.509466,110.309859 246.643198,95.4366197 255.276657,54.5352113 C255.276657,53.2957746 255.276657,52.056338 255.276657,50.8169014 C254.043306,50.8169014 254.043306,50.8169014 255.276657,50.8169014 C256.510009,34.7042254 254.043306,24.7887324 245.409846,14.8732394" id="Path" fill="#263B80"></path>
                                              <path d="M254.820615,50 L254.820615,50 C254.820615,51.2436975 254.820615,52.487395 254.820615,53.7310924 C246.168134,96.0168067 218.974623,109.697479 183.128631,109.697479 L164.587601,109.697479 C160.879395,109.697479 157.171189,113.428571 155.93512,117.159664 L143.574433,193.02521 C143.574433,195.512605 144.810502,198 148.518708,198 L180.656494,198 C184.3647,198 188.072906,195.512605 188.072906,191.781513 L188.072906,190.537815 L194.253249,151.983193 L194.253249,149.495798 C194.253249,145.764706 197.961455,143.277311 201.669661,143.277311 L206.613936,143.277311 C237.515653,143.277311 262.237027,130.840336 268.41737,93.5294118 C270.889507,78.605042 269.653439,64.9243697 262.237027,56.2184874 C261.000958,53.7310924 258.528821,51.2436975 254.820615,50" id="Path" fill="#139AD6"></path>
                                              <path d="M245.463322,46.7 C244.228754,46.7 242.994186,45.4666667 241.759619,45.4666667 C240.525051,45.4666667 239.290483,45.4666667 238.055915,44.2333333 C233.117643,43 228.179372,43 222.006532,43 L173.858384,43 C172.623816,43 171.389248,43 170.15468,44.2333333 C167.685544,45.4666667 166.450977,47.9333333 166.450977,50.4 L156.574433,114.533333 L156.574433,117 C157.809001,113.3 161.512705,109.6 165.216409,109.6 L183.734927,109.6 C219.537396,109.6 246.69789,94.8 255.339865,54.1 C255.339865,52.8666667 255.339865,51.6333333 256.574433,50.4 C254.105298,49.1666667 252.87073,47.9333333 250.401594,47.9333333 C246.69789,46.7 246.69789,46.7 245.463322,46.7" id="Path" fill="#232C65"></path>
                                          </g>
                                      </g>
                                </svg>
                            </span>
                        </label> -->

                        <!-- Cards -->
                        <label class="tabOption" id="cartCredit5">
                            <input type="radio" name="paymentMethods" value="1" v-model="choosePayment" @click="selectPaymentPaydo"/>
                            <span class="content">Debit/Credit cards
                                <span class="imgBloc">
                                  <img src="/fronts/img/icons/mastercard-logo.png" alt="">
                                  <img src="/fronts/img/icons/visasecure.png" alt="">
                                </span>
                            </span>
                        </label>

                        <!-- Ideal -->
                        <label class="tabOption" id="cartCredit4">
                            <input type="radio" name="paymentMethods" value="345" @click="selectPayment" v-model="choosePayment"/>
                            <span class="content">iDeal
                                <svg viewBox="0 0 157 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Logo-iDeal" transform="translate(-30.000000, -30.000000)"><g transform="translate(30.000000, 30.000000)"><polygon id="Path-2" fill="#FFFFFF" points="3.72558594 4.20703125 3.72558594 133.061523 93.1142578 133.061523 122.901367 124.960938 143.177734 107.383789 153.095703 79.7363281 153.095703 47.7939453 138.263672 22.1298828 112.392578 7.55761719 87.4667969 5.46679688"></polygon> <path d="M6.37094106,6.36947265 L6.37094106,129.096724 L80.9348376,129.096724 C125.96069,129.096724 150.454257,108.122936 150.454257,67.5762233 C150.454257,25.9081347 123.904427,6.36947265 80.9348376,6.36947265 L6.37094106,6.36947265 Z M80.9348376,0 C146.964825,0 156.824219,42.3420888 156.824219,67.5762233 C156.824219,111.358333 129.874492,135.469134 80.9348376,135.469134 C80.9348376,135.469134 1.59762996,135.469134 0,135.469134 C0,133.865141 0,1.60007731 0,0 C1.59762996,0 80.9348376,0 80.9348376,0 Z" id="Fill-4" fill="#0A0B09"></path> <polygon id="Fill-5" fill="#0A0B09" points="16.6419788 119.338651 40.5114711 119.338651 40.5114711 76.8467844 16.6419788 76.8467844"></polygon> <path d="M43.3753598,55.4598838 C43.3753598,63.6541005 36.7356998,70.2971868 28.5414831,70.2971868 C20.3511822,70.2971868 13.705159,63.6541005 13.705159,55.4598838 C13.705159,47.2720302 20.3511822,40.6260071 28.5414831,40.6260071 C36.7356998,40.6260071 43.3753598,47.2720302 43.3753598,55.4598838" id="Fill-6" fill="#0A0B09"></path> <path d="M52.3732862,48.5485679 C52.3732862,52.3860124 52.3732862,58.560676 52.3732862,62.3966521 C54.4760492,62.3966521 56.6238434,62.3966521 56.6238434,62.3966521 C59.5689842,62.3966521 62.2889687,61.5454639 62.2889687,55.3639477 C62.2889687,49.3229094 59.2620865,48.5485679 56.6238434,48.5485679 C56.6238434,48.5485679 54.4760492,48.5485679 52.3732862,48.5485679 Z M123.279374,41.6607466 L130.154958,41.6607466 C130.154958,41.6607466 130.154958,57.3370011 130.154958,62.3966521 C131.679657,62.3966521 135.867073,62.3966521 140.343765,62.3966521 C137.549381,24.771096 107.950153,16.6419788 81.0547577,16.6419788 L52.3791598,16.6419788 L52.3791598,41.6749412 L56.6238434,41.6749412 C64.3623635,41.6749412 69.170427,46.9225487 69.170427,55.3639477 C69.170427,64.0730868 64.4778784,69.2717473 56.6238434,69.2717473 L52.3791598,69.2717473 L52.3791598,119.361167 L81.0547577,119.361167 C124.784004,119.361167 140.001626,99.0540367 140.539064,69.2717473 L123.279374,69.2717473 L123.279374,41.6607466 Z M104.122009,57.0673032 L109.096492,57.0673032 L106.821925,49.2617256 L106.408812,49.2617256 L104.122009,57.0673032 Z M93.3923376,69.2800682 L101.718711,41.6597676 L111.500768,41.6597676 L119.824695,69.2800682 L112.667175,69.2800682 L111.106745,63.9370141 L102.112735,63.9370141 L100.547899,69.2800682 L93.3923376,69.2800682 Z M90.0903733,62.3966521 L90.0903733,69.2717473 L73.0803131,69.2717473 L73.0803131,41.6710254 L89.541188,41.6710254 L89.541188,48.5436732 C89.541188,48.5436732 83.6832114,48.5436732 79.9568766,48.5436732 C79.9568766,49.4912871 79.9568766,50.5779104 79.9568766,51.7433384 L89.0213709,51.7433384 L89.0213709,58.6140283 L79.9568766,58.6140283 C79.9568766,59.9938441 79.9568766,61.2948552 79.9568766,62.3966521 C83.7908948,62.3966521 90.0903733,62.3966521 90.0903733,62.3966521 Z" id="Fill-7" fill="#D50172"></path></g></g></g></svg>
                                <span class="imgBloc">
                                    {{ trans.vars.Payment.pmAvailableNetherlands }}
                                </span>
                            </span>
                        </label>

                        <!-- Bancontact -->
                        <label class="tabOption" id="cartCredit4">
                            <input type="radio" name="paymentMethods" value="339" @click="selectPayment" v-model="choosePayment"/>
                            <span class="content">Bancontact
                                <svg viewBox="0 0 327 231" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Artboard" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Group-10" transform="translate(0.000000, -1.000000)"><g id="Group-3" transform="translate(0.000000, 0.500000)"><mask id="mask-2" fill="white"><use xlink:href="#path-1"></use></mask> <g id="Clip-2"></g> <path d="M326.0541,211.1572 C326.0541,222.0712 317.1241,231.0002 306.2111,231.0002 L19.8431,231.0002 C8.9291,231.0002 0.0001,222.0712 0.0001,211.1572 L0.0001,20.3422 C0.0001,9.4292 8.9291,0.5002 19.8431,0.5002 L306.2111,0.5002 C317.1241,0.5002 326.0541,9.4292 326.0541,20.3422 L326.0541,211.1572 Z" id="Fill-1" fill="#FEFEFE" mask="url(#mask-2)"></path></g> <path d="M261.9525,65.3979 L250.1375,65.3979 L195.5295,65.3979 L183.7135,65.3979 L175.7565,74.3569 L149.9355,103.4269 L149.9355,103.4279 L141.9785,112.3859 L130.1615,112.3859 L76.5905,112.3859 L64.7735,112.3859 L72.6075,103.3139 L76.3155,99.0199 L84.1495,89.9479 L72.3325,89.9479 L57.1055,89.9479 L48.5755,89.9479 C42.0765,89.9479 36.7585,95.4009 36.7585,102.0649 L36.7585,102.0659 L36.7585,125.4659 L36.7585,127.6319 C36.7585,134.2969 42.0765,139.7499 48.5755,139.7499 L51.8955,139.7499 L175.8795,139.7499 L184.7685,139.7499 C191.2675,139.7499 200.1455,135.6999 204.4975,130.7499 L225.0985,107.3179 L261.9525,65.3979 Z" id="Fill-4" fill="#005697"></path> <path d="M277.6723,38.0669 C284.1713,38.0669 289.4893,43.5199 289.4893,50.1849 L289.4893,75.7509 C289.4893,82.4149 284.1713,87.8689 277.6723,87.8689 L271.2613,87.8689 L254.0313,87.8689 L242.2143,87.8689 L250.1223,78.8649 L250.1233,78.8649 L254.0443,74.4009 L261.9523,65.3979 L183.7143,65.3979 L141.9793,112.4199 L64.2953,112.4199 L120.0063,49.4269 L122.1143,47.0429 C126.4813,42.1059 135.3713,38.0669 141.8703,38.0669 L144.6143,38.0669 L277.6723,38.0669 Z" id="Fill-6" fill="#FBD500"></path> <path d="M63.39,183.2119 C63.39,181.5429 62.996,180.0979 62.21,178.8779 C61.423,177.6579 60.388,176.7269 59.104,176.0849 C60.388,175.4429 61.383,174.4949 62.09,173.2429 C62.796,171.9909 63.149,170.5789 63.149,169.0059 L63.149,168.1389 C63.149,166.2119 62.78,164.6079 62.042,163.3229 C61.303,162.0389 60.267,161.0109 58.935,160.2409 C57.603,159.4699 56.005,158.9169 54.144,158.5789 C52.281,158.2419 50.211,158.0739 47.931,158.0739 C47.161,158.0739 46.358,158.0899 45.524,158.1219 C44.688,158.1539 43.878,158.1939 43.092,158.2419 C42.305,158.2899 41.582,158.3469 40.925,158.4109 C40.266,158.4759 39.728,158.5399 39.311,158.6029 C38.38,158.7649 37.722,159.0529 37.337,159.4699 C36.952,159.8879 36.759,160.6429 36.759,161.7339 L36.759,191.0139 C36.759,192.1059 36.959,192.8599 37.361,193.2769 C37.762,193.6949 38.444,193.9829 39.408,194.1439 C39.889,194.2399 40.467,194.3199 41.141,194.3849 C41.815,194.4489 42.545,194.5049 43.332,194.5529 C44.119,194.6009 44.929,194.6409 45.764,194.6739 C46.599,194.7049 47.417,194.7219 48.22,194.7219 C50.307,194.7219 52.273,194.5609 54.12,194.2399 C55.965,193.9199 57.57,193.3489 58.935,192.5299 C60.3,191.7119 61.383,190.6039 62.186,189.2079 C62.988,187.8109 63.39,186.0529 63.39,183.9339 L63.39,183.2119 Z M55.203,169.3909 C55.203,169.9049 55.123,170.3949 54.962,170.8599 C54.801,171.3249 54.537,171.7259 54.168,172.0649 C53.798,172.4009 53.301,172.6739 52.675,172.8819 C52.049,173.0909 51.254,173.1949 50.291,173.1949 L44.898,173.1949 L44.898,164.8639 C45.058,164.8639 45.307,164.8569 45.644,164.8399 C45.981,164.8239 46.334,164.8159 46.703,164.8159 L47.763,164.8159 L48.557,164.8159 C51.029,164.8159 52.755,165.1289 53.734,165.7549 C54.713,166.3809 55.203,167.3519 55.203,168.6679 L55.203,169.3909 Z M55.396,183.7419 C55.396,185.0899 54.922,186.1339 53.975,186.8719 C53.028,187.6109 51.318,187.9809 48.846,187.9809 L48.052,187.9809 C47.682,187.9809 47.297,187.9719 46.896,187.9559 C46.494,187.9409 46.109,187.9309 45.74,187.9309 L44.898,187.9309 L44.898,178.9259 L50.291,178.9259 C52.217,178.9259 53.549,179.3519 54.288,180.2019 C55.026,181.0529 55.396,182.0559 55.396,183.2119 L55.396,183.7419 Z M89.78,176.1329 C89.78,174.3679 89.515,172.8659 88.985,171.6299 C88.456,170.3949 87.709,169.3829 86.746,168.5959 C85.783,167.8099 84.603,167.2329 83.206,166.8629 C81.81,166.4939 80.245,166.3089 78.511,166.3089 C76.905,166.3089 75.34,166.4219 73.816,166.6469 C72.29,166.8709 71.078,167.0959 70.18,167.3199 C69.57,167.4819 69.265,167.8339 69.265,168.3789 L69.265,172.2799 C69.265,172.6019 69.345,172.8269 69.506,172.9539 C69.666,173.0829 69.874,173.1479 70.132,173.1479 L70.372,173.1479 C70.758,173.1149 71.239,173.0749 71.817,173.0269 C72.395,172.9789 73.045,172.9399 73.768,172.9059 C74.49,172.8749 75.244,172.8509 76.031,172.8339 C76.817,172.8179 77.596,172.8099 78.367,172.8099 C79.49,172.8099 80.373,173.0189 81.015,173.4359 C81.657,173.8539 81.978,174.7529 81.978,176.1329 L81.978,177.8669 L79.378,177.8669 C75.236,177.8669 72.226,178.5169 70.348,179.8169 C68.47,181.1169 67.531,183.1799 67.531,186.0049 L67.531,186.4399 C67.531,188.0119 67.764,189.3279 68.229,190.3869 C68.694,191.4469 69.313,192.2979 70.083,192.9409 C70.854,193.5819 71.728,194.0399 72.708,194.3119 C73.687,194.5849 74.707,194.7219 75.766,194.7219 C77.211,194.7219 78.455,194.5289 79.498,194.1439 C80.541,193.7589 81.528,193.2289 82.46,192.5549 L82.46,193.3249 C82.46,193.5819 82.556,193.8069 82.749,193.9989 C82.942,194.1919 83.166,194.2879 83.423,194.2879 L88.817,194.2879 C89.073,194.2879 89.298,194.1919 89.491,193.9989 C89.684,193.8069 89.78,193.5819 89.78,193.3249 L89.78,176.1329 Z M82.123,187.7869 C81.545,188.0759 80.926,188.3249 80.269,188.5329 C79.61,188.7429 78.912,188.8459 78.174,188.8459 C77.146,188.8459 76.384,188.7019 75.886,188.4129 C75.388,188.1239 75.14,187.4659 75.14,186.4399 L75.14,186.0049 C75.14,185.4269 75.204,184.9139 75.333,184.4639 C75.461,184.0149 75.686,183.6449 76.007,183.3569 C76.327,183.0679 76.761,182.8509 77.307,182.7059 C77.853,182.5619 78.543,182.4899 79.378,182.4899 L82.123,182.4899 L82.123,187.7869 Z M119.252,193.2769 L119.252,177.2399 C119.252,175.7329 119.132,174.3109 118.891,172.9789 C118.65,171.6479 118.217,170.4909 117.591,169.5109 C116.965,168.5319 116.098,167.7529 114.99,167.1759 C113.883,166.5979 112.462,166.3089 110.728,166.3089 C109.187,166.3089 107.822,166.4949 106.635,166.8669 C105.447,167.2389 104.195,167.8939 102.879,168.8319 L102.879,167.6649 C102.879,167.4069 102.782,167.1799 102.59,166.9859 C102.397,166.7919 102.172,166.6939 101.915,166.6939 L96.522,166.6939 C96.264,166.6939 96.04,166.7899 95.848,166.9829 C95.655,167.1759 95.559,167.4009 95.559,167.6569 L95.559,193.2769 C95.559,193.5339 95.662,193.7669 95.872,193.9749 C96.08,194.1839 96.313,194.2879 96.57,194.2879 L102.397,194.2879 C102.654,194.2879 102.879,194.1839 103.071,193.9759 C103.264,193.7679 103.36,193.5359 103.36,193.2789 L103.36,174.3469 C104.195,173.8989 104.981,173.5309 105.72,173.2429 C106.458,172.9539 107.18,172.8099 107.887,172.8099 C108.625,172.8099 109.227,172.8819 109.693,173.0269 C110.158,173.1709 110.519,173.4189 110.776,173.7729 C111.033,174.1239 111.21,174.5879 111.306,175.1639 C111.402,175.7409 111.451,176.4459 111.451,177.2789 L111.451,193.2789 C111.451,193.5359 111.547,193.7679 111.74,193.9759 C111.932,194.1839 112.156,194.2879 112.414,194.2879 L118.241,194.2879 C118.497,194.2879 118.73,194.1839 118.939,193.9749 C119.148,193.7669 119.252,193.5339 119.252,193.2769 Z M142.946,192.8919 L142.946,188.6069 C142.946,188.3489 142.857,188.1489 142.681,188.0039 C142.504,187.8589 142.287,187.7869 142.031,187.7869 L141.934,187.7869 C141.035,187.8829 140.177,187.9639 139.358,188.0279 C138.539,188.0919 137.439,188.1239 136.059,188.1239 C135.513,188.1239 135,188.0359 134.518,187.8589 C134.036,187.6829 133.619,187.3779 133.266,186.9439 C132.912,186.5109 132.632,185.9329 132.423,185.2109 C132.214,184.4879 132.11,183.5969 132.11,182.5379 L132.11,178.4929 C132.11,177.4329 132.214,176.5419 132.423,175.8199 C132.632,175.0969 132.912,174.5199 133.266,174.0859 C133.619,173.6529 134.036,173.3479 134.518,173.1709 C135,172.9949 135.513,172.9059 136.059,172.9059 C137.439,172.9059 138.539,172.9399 139.358,173.0029 C140.177,173.0669 141.035,173.1479 141.934,173.2429 L142.031,173.2429 C142.287,173.2429 142.504,173.1709 142.681,173.0269 C142.857,172.8819 142.946,172.6819 142.946,172.4249 L142.946,168.1389 C142.946,167.7859 142.865,167.5369 142.705,167.3919 C142.544,167.2479 142.287,167.1269 141.934,167.0309 C141.26,166.8709 140.385,166.7109 139.31,166.5489 C138.234,166.3889 136.974,166.3089 135.529,166.3089 C132.126,166.3089 129.405,167.3519 127.367,169.4399 C125.328,171.5259 124.309,174.5439 124.309,178.4929 L124.309,182.5379 C124.309,186.4869 125.328,189.5049 127.367,191.5909 C129.405,193.6789 132.126,194.7219 135.529,194.7219 C136.974,194.7219 138.234,194.6409 139.31,194.4819 C140.385,194.3199 141.26,194.1599 141.934,193.9989 C142.287,193.9029 142.544,193.7829 142.705,193.6379 C142.865,193.4939 142.946,193.2449 142.946,192.8919 Z M169.674,178.8299 C169.674,176.9029 169.408,175.1699 168.877,173.6289 C168.346,172.0879 167.574,170.7799 166.561,169.7039 C165.548,168.6289 164.293,167.7939 162.798,167.1999 C161.302,166.6069 159.572,166.3089 157.61,166.3089 C155.648,166.3089 153.919,166.6069 152.423,167.1999 C150.927,167.7939 149.664,168.6289 148.635,169.7039 C147.605,170.7799 146.825,172.0879 146.295,173.6289 C145.763,175.1699 145.498,176.9029 145.498,178.8299 L145.498,182.2009 C145.498,184.1269 145.763,185.8609 146.295,187.4019 C146.825,188.9429 147.605,190.2509 148.635,191.3269 C149.664,192.4029 150.927,193.2369 152.423,193.8309 C153.919,194.4239 155.648,194.7219 157.61,194.7219 C159.572,194.7219 161.302,194.4239 162.798,193.8309 C164.293,193.2369 165.548,192.4029 166.561,191.3269 C167.574,190.2509 168.346,188.9429 168.877,187.4019 C169.408,185.8609 169.674,184.1269 169.674,182.2009 L169.674,178.8299 Z M161.872,182.2009 C161.872,186.1499 160.451,188.1239 157.61,188.1239 C156.205,188.1239 155.136,187.6269 154.402,186.6309 C153.667,185.6359 153.3,184.1589 153.3,182.2009 L153.3,178.8299 C153.3,176.8719 153.667,175.4029 154.402,174.4229 C155.136,173.4439 156.205,172.9539 157.61,172.9539 C160.451,172.9539 161.872,174.9129 161.872,178.8299 L161.872,182.2009 Z M198.327,193.2769 L198.327,177.2399 C198.327,175.7329 198.205,174.3109 197.966,172.9789 C197.725,171.6479 197.291,170.4909 196.664,169.5109 C196.038,168.5319 195.172,167.7529 194.065,167.1759 C192.957,166.5979 191.536,166.3089 189.803,166.3089 C188.262,166.3089 186.897,166.4949 185.709,166.8669 C184.521,167.2389 183.269,167.8939 181.953,168.8319 L181.953,167.6649 C181.953,167.4069 181.857,167.1799 181.663,166.9859 C181.472,166.7919 181.246,166.6939 180.99,166.6939 L175.596,166.6939 C175.339,166.6939 175.115,166.7899 174.922,166.9829 C174.73,167.1759 174.633,167.4009 174.633,167.6569 L174.633,193.2769 C174.633,193.5339 174.737,193.7669 174.946,193.9749 C175.155,194.1839 175.387,194.2879 175.645,194.2879 L181.472,194.2879 C181.728,194.2879 181.953,194.1839 182.146,193.9759 C182.338,193.7679 182.435,193.5359 182.435,193.2789 L182.435,174.3469 C183.269,173.8989 184.056,173.5309 184.794,173.2429 C185.533,172.9539 186.255,172.8099 186.962,172.8099 C187.7,172.8099 188.302,172.8819 188.767,173.0269 C189.232,173.1709 189.594,173.4189 189.851,173.7729 C190.108,174.1239 190.284,174.5879 190.381,175.1639 C190.477,175.7409 190.525,176.4459 190.525,177.2789 L190.525,193.2789 C190.525,193.5359 190.621,193.7679 190.814,193.9759 C191.007,194.1839 191.231,194.2879 191.488,194.2879 L197.315,194.2879 C197.572,194.2879 197.805,194.1839 198.014,193.9749 C198.222,193.7669 198.327,193.5339 198.327,193.2769 Z M219.324,193.3849 L219.324,189.6579 C219.324,189.1169 218.987,188.8459 218.313,188.8459 L215.952,188.8459 C215.214,188.8459 214.765,188.7099 214.605,188.4369 C214.444,188.1649 214.364,187.5459 214.364,186.5829 L214.364,172.5689 L218.313,172.5689 C218.569,172.5689 218.794,172.4719 218.987,172.2779 C219.18,172.0839 219.276,171.8579 219.276,171.5979 L219.276,167.6649 C219.276,167.4069 219.18,167.1789 218.987,166.9849 C218.794,166.7909 218.569,166.6939 218.313,166.6939 L214.364,166.6939 L214.364,161.5889 C214.364,161.3329 214.284,161.1319 214.125,160.9869 C213.965,160.8429 213.757,160.7719 213.502,160.7719 L213.359,160.7719 L207.52,161.7819 C207.264,161.8469 207.039,161.9589 206.849,162.1189 C206.658,162.2799 206.562,162.4879 206.562,162.7449 L206.562,166.6939 L202.71,166.6939 C202.452,166.6939 202.22,166.7989 202.011,167.0069 C201.802,167.2159 201.698,167.4489 201.698,167.7049 L201.698,170.8839 C201.698,171.1409 201.802,171.3579 202.011,171.5339 C202.22,171.7109 202.452,171.8309 202.71,171.8949 L206.562,172.5219 L206.562,186.4869 C206.562,188.1899 206.738,189.5769 207.088,190.6519 C207.439,191.7279 207.95,192.5709 208.619,193.1809 C209.289,193.7909 210.128,194.1999 211.133,194.4089 C212.138,194.6169 213.295,194.7219 214.605,194.7219 C215.31,194.7219 215.937,194.6899 216.483,194.6259 C217.028,194.5619 217.67,194.4669 218.409,194.3389 C219.019,194.2449 219.324,193.9259 219.324,193.3849 Z M245.039,176.1329 C245.039,174.3679 244.775,172.8659 244.244,171.6299 C243.715,170.3949 242.969,169.3829 242.006,168.5959 C241.043,167.8099 239.863,167.2329 238.466,166.8629 C237.07,166.4939 235.505,166.3089 233.771,166.3089 C232.164,166.3089 230.6,166.4219 229.076,166.6469 C227.55,166.8709 226.338,167.0959 225.44,167.3199 C224.828,167.4819 224.525,167.8339 224.525,168.3789 L224.525,172.2799 C224.525,172.6019 224.604,172.8269 224.765,172.9539 C224.926,173.0829 225.134,173.1479 225.391,173.1479 L225.632,173.1479 C226.018,173.1149 226.499,173.0749 227.077,173.0269 C227.655,172.9789 228.305,172.9399 229.027,172.9059 C229.75,172.8749 230.504,172.8509 231.291,172.8339 C232.077,172.8179 232.856,172.8099 233.626,172.8099 C234.75,172.8099 235.633,173.0189 236.275,173.4359 C236.917,173.8539 237.238,174.7529 237.238,176.1329 L237.238,177.8669 L234.638,177.8669 C230.495,177.8669 227.486,178.5169 225.608,179.8169 C223.73,181.1169 222.791,183.1799 222.791,186.0049 L222.791,186.4399 C222.791,188.0119 223.023,189.3279 223.489,190.3869 C223.953,191.4469 224.573,192.2979 225.343,192.9409 C226.114,193.5819 226.988,194.0399 227.968,194.3119 C228.947,194.5849 229.966,194.7219 231.026,194.7219 C232.471,194.7219 233.714,194.5289 234.758,194.1439 C235.801,193.7589 236.787,193.2289 237.72,192.5549 L237.72,193.3249 C237.72,193.5819 237.816,193.8069 238.009,193.9989 C238.201,194.1919 238.426,194.2879 238.683,194.2879 L244.077,194.2879 C244.333,194.2879 244.558,194.1919 244.751,193.9989 C244.943,193.8069 245.039,193.5819 245.039,193.3249 L245.039,176.1329 Z M237.383,187.7869 C236.805,188.0759 236.186,188.3249 235.529,188.5329 C234.869,188.7429 234.172,188.8459 233.434,188.8459 C232.406,188.8459 231.644,188.7019 231.146,188.4129 C230.648,188.1239 230.4,187.4659 230.4,186.4399 L230.4,186.0049 C230.4,185.4269 230.464,184.9139 230.593,184.4639 C230.72,184.0149 230.945,183.6449 231.267,183.3569 C231.587,183.0679 232.021,182.8509 232.567,182.7059 C233.113,182.5619 233.803,182.4899 234.638,182.4899 L237.383,182.4899 L237.383,187.7869 Z M268.733,192.8919 L268.733,188.6069 C268.733,188.3489 268.644,188.1489 268.468,188.0039 C268.291,187.8589 268.075,187.7869 267.818,187.7869 L267.722,187.7869 C266.823,187.8829 265.964,187.9639 265.145,188.0279 C264.327,188.0919 263.227,188.1239 261.847,188.1239 C261.3,188.1239 260.786,188.0359 260.306,187.8589 C259.824,187.6829 259.406,187.3779 259.053,186.9439 C258.7,186.5109 258.419,185.9329 258.211,185.2109 C258.001,184.4879 257.898,183.5969 257.898,182.5379 L257.898,178.4929 C257.898,177.4329 258.001,176.5419 258.211,175.8199 C258.419,175.0969 258.7,174.5199 259.053,174.0859 C259.406,173.6529 259.824,173.3479 260.306,173.1709 C260.786,172.9949 261.3,172.9059 261.847,172.9059 C263.227,172.9059 264.327,172.9399 265.145,173.0029 C265.964,173.0669 266.823,173.1479 267.722,173.2429 L267.818,173.2429 C268.075,173.2429 268.291,173.1709 268.468,173.0269 C268.644,172.8819 268.733,172.6819 268.733,172.4249 L268.733,168.1389 C268.733,167.7859 268.653,167.5369 268.492,167.3919 C268.33,167.2479 268.075,167.1269 267.722,167.0309 C267.048,166.8709 266.172,166.7109 265.097,166.5489 C264.021,166.3889 262.762,166.3089 261.317,166.3089 C257.912,166.3089 255.193,167.3519 253.154,169.4399 C251.115,171.5259 250.096,174.5439 250.096,178.4929 L250.096,182.5379 C250.096,186.4869 251.115,189.5049 253.154,191.5909 C255.193,193.6789 257.912,194.7219 261.317,194.7219 C262.762,194.7219 264.021,194.6409 265.097,194.4819 C266.172,194.3199 267.048,194.1599 267.722,193.9989 C268.075,193.9029 268.33,193.7829 268.492,193.6379 C268.653,193.4939 268.733,193.2449 268.733,192.8919 Z M289.489,193.3849 L289.489,189.6579 C289.489,189.1169 289.152,188.8459 288.478,188.8459 L286.118,188.8459 C285.379,188.8459 284.93,188.7099 284.77,188.4369 C284.609,188.1649 284.529,187.5459 284.529,186.5829 L284.529,172.5689 L288.478,172.5689 C288.734,172.5689 288.959,172.4719 289.152,172.2779 C289.344,172.0839 289.441,171.8579 289.441,171.5979 L289.441,167.6649 C289.441,167.4069 289.344,167.1789 289.152,166.9849 C288.959,166.7909 288.734,166.6939 288.478,166.6939 L284.529,166.6939 L284.529,161.5889 C284.529,161.3329 284.449,161.1319 284.288,160.9869 C284.13,160.8429 283.922,160.7719 283.667,160.7719 L283.523,160.7719 L277.684,161.7819 C277.428,161.8469 277.204,161.9589 277.014,162.1189 C276.823,162.2799 276.727,162.4879 276.727,162.7449 L276.727,166.6939 L272.875,166.6939 C272.617,166.6939 272.385,166.7989 272.176,167.0069 C271.967,167.2159 271.863,167.4489 271.863,167.7049 L271.863,170.8839 C271.863,171.1409 271.967,171.3579 272.176,171.5339 C272.385,171.7109 272.617,171.8309 272.875,171.8949 L276.727,172.5219 L276.727,186.4869 C276.727,188.1899 276.903,189.5769 277.253,190.6519 C277.604,191.7279 278.115,192.5709 278.785,193.1809 C279.454,193.7909 280.292,194.1999 281.298,194.4089 C282.303,194.6169 283.46,194.7219 284.77,194.7219 C285.475,194.7219 286.101,194.6899 286.648,194.6259 C287.193,194.5619 287.835,194.4669 288.574,194.3389 C289.183,194.2449 289.489,193.9259 289.489,193.3849 Z" id="Fill-8" fill="#005697"></path></g></g></svg>
                                <span class="imgBloc">
                                    {{ trans.vars.Payment.pmAvailableBelgium }}
                                </span>
                            </span>
                        </label>

                        <!-- <div @click="sendPreorder" style="border: 1px solid #FFF;">
                            <PayPal
                              amount="0.12"
                              currency="EUR"
                              mode="sandbox"
                              :client="credentials">
                            </PayPal>
                        </div> -->


                    </div>
                </div>
                <label class="checkContainer" v-if="mode == 'auth'">
                    {{ trans.vars.Payment.saveIt }}
                    <input type="checkbox" v-model="defaultPayment"/>
                    <span></span>
                </label>
            </div>

            <div class="blocReview">
                <div class="productsInCart">
                    <div class="title">
                        {{ trans.vars.Orders.orderReview }}
                    </div>
                    <cart-block :items="items" :mode="'order-payment'"></cart-block>
                </div>
            </div>
        </div>

        <div class="alertUser  text-center" v-if="validateError">
            <div class="closeAlert" @click="dismisAllert"></div>
            <p class="text-danger">{{ validateError }}</p>
        </div>

        <div class="col-12 parFor">
            <div style="opacity: 0;"></div>
            <div class="step2butt" v-if="ready">
                <input type="button" class="butt buttView order-btn" :data-value="amount" :value="trans.vars.Payment.payBtn" id="_AddPaymentInfo" @click="pay"/>
            </div>
        </div>
    </div>

</template>

<script>
import {bus} from '../app.js'
import PayPal from 'vue-paypal-checkout'


export default {
  props: ['items', 'mode', 'order_id'],
  data() {
    return {
        credentials: {
            sandbox: '<Aav5tFuYbs3HnBKmYSvYVyfixocvWtXqqH9aI1gbbBWgofAsA5P1uEGTmVnJDqvovp_eRo0h_wCywzzY>',
            production: 'AcsdVkFUJELrIYwAa8X_wUnWrgIFNfNRrrXHasyJWGD0i-me9iuUpU1ctMQZDwQGTTgQwWgOOud3_RWd'
        },
        ready: true,
        validateError: false,
        serverError: false,

        payments: [],
        mainPayment: [],
        choosePayment: false,
        defaultPayment: false,

        cartData: [],
        amount: '0.00',
        lookOrderBtn: false,
        paymentDriver: 'paydo',
        step: 0,
    }
  },
  mounted() {
      this.getPayments();

      bus.$on('getCartData', data => {
          this.cartData = data;
          this.amount = this.cartData.amount;
      });
  },
  methods: {
      dismisAllert(){
          this.validateError = false;
      },
      getPayments(){
          axios.post('/' + this.$lang + '/order-get-payments')
              .then(response => {
                  this.payments = response.data;
              })
              .catch(e => {
                  this.serverError = 'A avut loc o problema tehnica!';
                  console.log('error load user')
              })
      },
      pay(){
          let vm = this;
          bus.$emit('cartData');
          this.validate();

          if (!this.validateError) {
              if (this.lookOrderBtn === false) {
                  window.fbq("track", "AddPaymentInfo");
                  this.lookOrderBtn = true;
                  window.location.href = window.location.origin + '/' + this.$lang + '/order/payment/methods/' + this.choosePayment + '/' + this.amount + '/' + this.order_id + '/' + this.paymentDriver;
                 // window.location.href = window.location.origin + '/' + this.$lang + '/order/payment/methods/' + 'cache' + '/' + this.amount + '/' + this.order_id;
              }
          }

          setTimeout(function(){
              vm.dismisAllert();
          }, 5000);
      },
      order(){
          let vm = this;
          bus.$emit('cartData');
          this.validate();

          if (!this.validateError) {

              if (this.lookOrderBtn === false) {
                  this.lookOrderBtn = true;
                  axios.post('/' + this.$lang + '/order-shipping', {
                      payment : this.choosePayment,
                  })
                  .then(response => {
                      window.location.href = window.location.origin + '/' + this.$lang + '/order/payment/' + response.data;
                  })
                  .catch(e => {
                      this.serverError = 'A avut loc o problema tehnica!';
                      console.log('error')
                  })
              }
          }
          setTimeout(function(){
              vm.dismisAllert();
          }, 5000);
      },
      sendPreorder(){
          alert('bfg');
      },
      validate(){
          let error = false;

          if (this.cartData.agreeCond == false) {
              error = trans.vars.Notifications.agreeRequired
          }
          if (this.cartData.delivery.length < 1) {
              error = 'delivery missing!'
          }
          if (this.choosePayment === false) {
              error = "Choose payment method!";
          }

          this.validateError = error;
      },
      selectPayment(){
          this.paymentDriver = "payop";
          this.step = this.step + 1;
      },
      selectPaymentPaydo(){
          this.paymentDriver = "paydo";
          this.step = this.step + 1;
      },
  },
  components: {
      PayPal,
  }
}
</script>

<style media="screen">
    .cart .butt.buttView{
        margin-right: auto;
    }
    .hide{
        display: none;
    }
    .tabOption img{
        height: 40px;
        width: auto !important;
    }
    .tabOption svg{
        margin-top: 10px;
        height: 40px;
        width: auto !important;
    }
    .tabBox .tabOption input:checked~.content {
        background: hsla(0, 0%, 84.7%, 1);
        border: 1px solid #000;
        font-weight: 700;
        box-shadow: 0 5px 10px 0 rgba(0, 0, 0, .2);
    }
    .imgBloc{
        margin-top: 10px;
        font-size: 12px;
        line-height: 1;
    }
</style>
